# ✅ pipex 修正チェックリスト（テスター対応）

## 📁 ファイル構成・ビルド関連

- [x] `Makefile` 内でワイルドカード使用していない
- [x] `libft` はサブモジュールでなく、実体として同梱されている
- [x] `make`, `make clean`, `make fclean`, `make re` が正しく動作する

---

## 📌 実行時エラーハンドリング

- [x] `open()` の返り値をチェックし、`-1` の場合に `perror()` + `exit()` している
- [x] `pipe()`, `fork()`, `dup2()`, `execve()` すべてのシステムコールにエラーチェックをしている
- [x] 実行ファイルが存在しない or 実行不可なら、正しく `"command not found"` or `"no such file"` を出す
- [x] `execve()` 失敗時は `perror()` + `exit(127)` している

---

## 🧠 PATH探索の仕様対応

- [x] `check_cmd()` 内で `cmd` にスラッシュ（`/`）が含まれているかを確認して分岐している
  - [x] スラッシュあり → `access(cmd, X_OK)` のみ（PATH探索しない）
  - [x] スラッシュなし → PATHに基づいて `access()` を試す

---

## 🧹 メモリとリソース管理

- [x] 全ての `malloc`/`calloc` に対し `free()` を行っている（Valgrindでリーク無し）
- [x] `split()` など複数ポインタ返す関数の返り値も解放している
- [x] `execve()` の前に `free()` を呼ぶ or 親プロセスが必ず回収
- [x] `pipe`, `infile`, `outfile` の `fd` を漏れなく `close()` している
- [x] Valgrindの `--track-fds=yes` でFDリーク無し

---

## 🧪 テストケース対応状況（重要）

- [x] `infile` が存在しない場合のエラー対応
- [x] 実行ファイルが存在しないコマンド（例: `abcd`) の処理
- [x] 権限がないコマンド（例: `chmod -x`) に対するエラーメッセージと終了コード
- [x] `"./a.out"` のようなパス指定コマンドが通る（PATH検索されない）
- [x] 正常系の処理で出力ファイルが正しく生成・上書きされる

---

## 🧼 その他

- [x] `argv`, `envp` に `NULL` が渡された場合にもセグフォしない
- [x] エラーメッセージは仕様に沿って `stderr` に出力されている
- [x] エラー終了時に不要なプロセス・メモリが残らない（Zombieなし）

